\DiaryEntry{Congruences}{2020-11-17}{Number Theory}

Coming from \cite{Burton2011}.

\begin{definition}
    Let $n$ be a fixed integer. Two integers $a, b$ are said to be \emph{congruent modulo-$n$}, $a \equiv b \mod n$ if $n$ divides the difference $a - b$; in other words, $a - b = kn$ for some integer $k$.
\end{definition}

For an example, fix $n = 7$. Now $3 \equiv 24 \mod 7$ as $(24-3) / 7 = 3$.

We can also reformulate this as in the following theorem.

\begin{theorem}
    For arbitrary integers $a, b$, we have $a \equiv b \mod n$ iff $a$ and $b$ leave the same non-negative remainder when divided by $n$.
\end{theorem}

From $a \equiv b \mod n$ we have $a = b + kn$ for some integer $k$. Dividing $b$ by $n$ leaves a remainder $r$; we have $b = qn + r$ (for some integer $q$) and $0 \leq r < n$. Inserting this, we have

\bee
a = b + kn = qn + r + kn = (q+k)n + r
\eee

which shows that $a, b$ have the same remainder. On the other hand, assume $a = q_1 n + r, b = q_2 n + r$ with $0 \leq r < n$. Then we have

\bee
a - b = (q_1 - q_2)n
\eee

and therefore $n \mid (a-b)$. We can rewrite this as congruence $a \equiv b \mod n$. \qed

Continuing with our example $n = 7$, we have $15 \equiv 8 \equiv 1 \mod 7$ as all have the same remainder when divided by $7$.

From the expressions above, we can also deduce that when $a \equiv b \mod n$, we also have 

\bee
a \equiv b + j n \mod n
\eee

for some integer $j$. We need to show that $a - b - jn$ divides $n$; since $a - b = kn$ (as $a \equiv b \mod n$), we have $a - b - jn = kn \rightarrow a - b = k'n$. \qed 

Looking at our example, we have $15 \equiv 8 \equiv 1 \mod 7$ as $15$, $8$, and $1$ differ by $n = 7$. In general, $1 + 7 k \equiv 1 \mod 7$.

Congurences are some kind of generalized equality; many properties from equalities carry over as shown in the following theorem.

\begin{theorem}
    Let $n > 1$ and $a, b, c, d$ be arbitrary integers. Then we have the following properties.

    \begin{enumerate}
        \item $a \equiv a \mod n$.
        \item If $a \equiv b \mod n$ then $b \equiv a \mod n$.
        \item If $a \equiv b \mod n$ and $b \equiv c \mod n$, then $a \equiv c \mod n$.
        \item If $a \equiv b \mod n$ and $c \equiv d \mod n$, then $a+c \equiv b+d \mod n$ and $ac \equiv bd \mod n$.
        \item If $a \equiv b \mod n$, then $a+c \equiv b+c \mod n$ and $ac \equiv bc \mod n$.
        \item If $a \equiv b \mod n$, then $a^k \equiv b^k \mod n$ for any positive integer $k$.
    \end{enumerate}

\end{theorem}

For 1) we have $a - a = 0 \cdot n$ and therefore $a \equiv a \mod n$. For 2), we have $a - b = kn$ which we can rewrite as $b - a = -kn = (-k)n$ and therefore $b \equiv a \mod n$. For 3), we observe 

\begin{align}
    a - b &= k_1 n \\
    b - c &= k_2 n
\end{align}

Adding the two equations yields $a - b + (b - c) = k_1 n - k_2 n \rightarrow a - c = (k_1-k_2)n$ which is equivalent to $a \equiv c \mod n$. For 4), we have

\begin{align}
    a - b &= k_1 n \\
    c - d &= k_2 n
\end{align}

Adding both equations yields $a + c - b - d = k_1 n + k_2 n = (k_1 + k_2)n$ which is equivalent to $a+c \equiv b+c \mod n$. We can rewrite the two euqations as

\begin{align}
    a &= b + k_1 n \\
    c &= d + k_2 n
\end{align}

and if we multiply both, we obtain $ac = (b + k_1 n)(d + k_2 n) =bd  + (k_1 + k_2)n + k_1 k_2 n \cdot n = bd + K n$ where $K$ is "some integer". This is equivalent to $ac \equiv bd \mod n$.

For 5), we use property 4) with property 1) $c \equiv c \mod n$ to obtain $a + c \equiv b + c \mod n$ and $ac \equiv bc \mod n$.

Finally, property 6) can be shown via induction. For $k = 1$, we have $a^1 \equiv b^1 \mod n$ we have the initial condition. Assuming that the properpy holds for $k$, we want to extend it to $k+1$. We have $a^{k+1} \equiv b^{k+1} \mod n$ which can be rewritten as $a \cdot a^k \equiv b \cdot b^k \mod n$. We kow that $a \equiv b \mod n$ from the initial condition and we know that $a^k \equiv b^k \mod n$ from the induction hypothesis; we cna combine the two via property 4) and have shown that $a^{k+1} \equiv b^{k+1} \mod n$. \qed

Be careful and note that the induction only works "in one direction"; i.e. from the fact that $a^k \equiv b^k \mod n$ does \emph{not} follow the fact that $a \equiv b \mod$. For example, $1^2 \equiv 6^2 \mod 7 \rightarrow 1 \equiv 36 \mod 7 \rightarrow 1 \equiv 1 \mod 7$, but $1 \not\equiv 6$. The same holds true for $2$ and $5$ (modulo-$7$).

We can gain some intuition into why this is so by writing things out: $a^k \equiv b^k \mod n \rightarrow a^k - b^k = kn$ and $a \equiv b  \mod n \rightarrow a - b = kn$. Looking at the left hand sides, we see that in general we cannot follow that $a -b $ divides $n$ by the fact that $a^k - b^k$ does. In case of "normal" integers, $a = b$ follows from $a^k = b^k$ as follows (we do not use roots here as this does not demonstrate the main point): Let's assume that $a = b$. Then we can divide each side of $a^k = b^k$ by $a$ and get $\frac{a^k}{a} = \frac{b^k}{a}$. Now we use our assumption $a = b$ and arrive at $a^{k-1} = b^{k-1}$. We can repeat this procedure $k-1$ times until we reach $a = b$. This validates our assumption and also shows that $a^k = b^k \rightarrow a= b$. It seems that equivalence by modulo-$n$ is a weaker concept of equality as "normal" equiality and therefore this relation does not hold. \qed


We can use above properties to simplfiy calculations. As an example, we want to show $41 | 2^{20} - 1$. We start by $2^5 \equiv -9 \mod 41$ from which we obtain $(2^5)^4 = (-9)^4 \mod 41$ which equals $2^{20} \equiv 81^2 \mod 41$. The right-hand side can be further simplified by using $81 \equiv -1 \mod 41$ and therefore $81^2 \equiv (-1)^2 \mod 41$. We can finally put everything together and obtain

\bee
2^{20} - 1 \equiv 81 \cdot 81 -1 \equiv 1 - 1 \equiv 0 \mod 41 \qed
\eee

Under certain conditions, we can cancel terms in a congruence relation based on the following theorem.

\begin{theorem}\label{2020-11-17:th3}
    If $ca \equiv cb \mod n$, then $a \equiv b \mod n/d$ where $d = \gcd(c, n)$.
\end{theorem}

To prove this, we start by writing

\bee
c(a-b) = ca - cb = kn
\eee

Using $\gcd(c,n) = d$, we can write $c = rd, n = sd$ with $r, s$ being relatively prime. Inserting this into above euqation, we obtain

\bee
rd(a - b) = ksd \rightarrow r(a-b) = ks
\eee

We deduce $s \mid r(a-b)$ and from above we have $\gcd(r,s) = 1$. Therefore, we have $s \mid a-b$ which is equivalent to $a \equiv b \mod s$ or (using $s = n/d$), $a \equiv b \mod (n/d)$. \qed

In the special case of $c, n$ being relatively prime, i.e. $\gcd(c, n) = 1$, $c$ can be cancelled without a change in modulus; i.e.

\bee
c a \equiv cb \mod n \rightarrow a \equiv b \mod n, \quad \text{if } \gcd(c, n) =1
\eee

The gcd condition becomes a bit easier in case of $n$ being prime; if $n \nmid c$ then we (also) have $c a \equiv cb \mod n \rightarrow a \equiv b \mod n$.

As an example, consider the congruence relation $33 \equiv 15 \mod 9$ which can also be rewritten as $3 \cdot 11 \equiv 3 \cdot 3 \mod 9$. We have $\gcd(3, 9) = 3$ and therefore we can cancel $3$ from the relation to obtain $11 \equiv 3 \mod (9/3) \rightarrow 11 \equiv 3 \mod 3$.

If $n$ is prime; e.g. $n = 17$, we have $175 \equiv 260 \mod 17$ which can be rewritten as $5 \cdot 35 \equiv 5 \cdot 52 \mod 17$. With $\gcd(5, 17) = 1$, we can cancel $5$ from the relation while \emph{keeping the modulo}; i.e. $35 \equiv 52 \mod 17$. However, keep in mind that the remainder \emph{will} change: $175 = 10 \cdot 17 + 5, 260 = 15 \cdot 17 + 5$; i.e. the remainder is $5$ while $35 = 2 \cdot 17 + 1, 52 = 3 \cdot 17 + 1$; i.e. the remainder is $1$.


%%% Local Variables:
%%% mode: latex
%%% TeX-master: "journal"
%%% End:
